(()=>{"use strict";var t=window.podcastPlayerData||{};const e={podcastPlayerData:jQuery.extend(!0,{},t),currentlyPlaying:!1,isStyleSupport:function(t,e){var i=window.ppmejsSettings.stSup||!1;return!(!i||!t)&&i[t].includes(e)},isInViewport:function(t){if(t&&t.length){var e=t.offset().top,i=t.offset().top+t.outerHeight(),s=jQuery(window).scrollTop()+jQuery(window).innerHeight(),a=jQuery(window).scrollTop();return s>e&&a<i}},stickyonScroll:function(){this.currentlyPlaying&&this.currentlyPlaying()},createCookie:function(t,e,i){var s;if(e=JSON.stringify(e),i){var a=new Date;a.setTime(a.getTime()+24*i*60*60*1e3),s="; expires="+a.toGMTString()}else s="";document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+s+"; path=/ ; SameSite=Lax"},readCookie:function(t){for(var e=encodeURIComponent(t)+"=",i=document.cookie.split(";"),s=0;s<i.length;s++){for(var a=i[s];" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(e)){var n=decodeURIComponent(a.substring(e.length,a.length));return JSON.parse(n)}}return null},eraseCookie:function(t){this.createCookie(t,"",-1)}};function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function s(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,a(s.key),s)}}function a(t){var e=function(t){if("object"!=i(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var s=e.call(t,"string");if("object"!=i(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==i(e)?e:e+""}const n=function(){return t=function t(i){var s,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),s=this,(n=a(n="resizeTimeout"))in s?Object.defineProperty(s,n,{value:null,enumerable:!0,configurable:!0,writable:!0}):s[n]=null,this.id=i,this.podcast=e[i].podcast,this.instance=e[i].instance,this.mainMenuItems(),this.menuToggle=this.podcast.find(".pod-items__menu-open"),this.infoToggle=this.podcast.find(".pod-launch__info"),this.events()},(i=[{key:"mainMenuItems",value:function(){var t=this.podcast.attr("data-main-items"),e=this.podcast.find(".pod-content__launcher"),i=this.podcast.find(".pod-items__navi-menu");if(t){var s=i.find("#podcast-menu-"+this.instance);if(s.length){var a=s.find(".menu-item > a").slice(0,t),n=a.clone();a.closest(".menu-item").hide(),jQuery.each(n,(function(t,e){var i=jQuery(e),s=i.find(".subscribe-item");i.addClass(s.attr("class")).addClass("pp-badge"),i.html(s.html())})),i.prepend(n),s.find(".menu-item").length<=t&&s.closest(".pod-items__menu").hide(),e.length&&e.prepend(i.clone())}}else e.length&&e.prepend(i.clone())}},{key:"events",value:function(){this.menuToggle.on("click",function(){this.menuToggle.closest(".pod-items__menu").toggleClass("toggled-window"),this.menuToggle.toggleClass("toggled-on").attr("aria-expanded",this.menuToggle.hasClass("toggled-on"))}.bind(this)),this.infoToggle.on("click",function(){this.podcast.toggleClass("header-toggle"),this.infoToggle.toggleClass("toggled-on").attr("aria-expanded",this.menuToggle.hasClass("toggled-on"))}.bind(this))}}])&&s(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,i}();function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function r(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,d(s.key),s)}}function d(t){var e=function(t){if("object"!=o(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,"string");if("object"!=o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==o(e)?e:e+""}const l=function(){return t=function t(i){var s=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=i,this.podcast=e[i].podcast,this.mediaObj=e[i].mediaObj,this.msgMediaObj=e[i].msgMediaObj,this.controls=jQuery(this.mediaObj.controls),this.msgControls=!!this.msgMediaObj&&jQuery(this.msgMediaObj.controls),this.layers=this.controls.prev(".ppjs__layers"),this.media=this.mediaObj.media,this.msgMedia=!!this.msgMediaObj&&this.msgMediaObj.media,this.modalObj=e[i].modal,this.settings=e[i].settings,this.transcript=e[i].episode,this.list=e[i].list,this.props=e[i],this.instance=e[i].instance,this.player=e[i].player,this.isPremium=this.settings.isPremium,this.isLargeScrn=e.isLrgScrn,this.data=e.podcastPlayerData,this.singleWrap=e[i].singleWrap,this.isInViewport=e.isInViewport,this.fetched=e[i].fetched,this.timeOut=!1,this.autostickytimer=!1,setTimeout((function(){s.timeOut=!0}),3e3),this.modControlMarkup(),this.modLayersMarkup(),this.plBtn=this.controls.find(".ppjs__playpause-button > button"),this.forBtn=this.controls.find(".ppjs__jump-forward-button > button"),this.bckBtn=this.controls.find(".ppjs__skip-backward-button > button"),this.ttBtn=this.controls.find(".ppjs__episode-excerpt"),this.ssBtn=this.controls.find(".ppjs__share-button > button"),this.pbrBtn=this.controls.find(".ppjs__play-rate-button > button"),this.rateLink=this.controls.find(".prl-item"),this.copylink=this.podcast.find(".ppsocial__copylink"),this.copyField=this.podcast.find("input.pp-copylink"),this.rlbtn=this.podcast.find(".pp-list-btn"),this.msgControls&&(this.msgplBtn=this.msgControls.find(".ppjs__playpause-button > button"),this.msgforBtn=this.msgControls.find(".ppjs__jump-forward-button > button"),this.msgbckBtn=this.msgControls.find(".ppjs__skip-backward-button > button")),this.events()},i=[{key:"events",value:function(){var t=this,e=this;jQuery(document).on("click",(function(e){var i=jQuery(e.target),s=i.closest(".toggled-window");jQuery(".toggled-window").removeClass("toggled-window"),s.length&&s.addClass("toggled-window"),i.closest(".ppshare__social").length||(t.copylink.removeClass("pp-link-copied"),t.copyField.hide())})),jQuery(document).on("keyup",(function(t){"Escape"===t.key&&jQuery(".toggled-window").removeClass("toggled-window")})),this.media.addEventListener("loadedmetadata",this.condbtnPauseMedia.bind(this)),this.media.addEventListener("play",this.btnPlayMedia.bind(this)),this.media.addEventListener("playing",this.btnPlayMedia.bind(this)),this.media.addEventListener("pause",this.btnPauseMedia.bind(this)),this.forBtn.on("click",this.forwardMedia.bind(this)),this.bckBtn.on("click",this.skipbackMedia.bind(this)),this.ttBtn.on("click",this.showtranscript.bind(this)),this.ssBtn.on("click",this.showsocialshare.bind(this)),this.pbrBtn.on("click",this.mediaPlayToggle.bind(this)),this.rlbtn.on("click",this.revealList.bind(this)),this.rateLink.on("click",(function(t){t.preventDefault(),e.mediaPlayRate.call(e,this)})),this.podcast.find(".episode-single__close").on("click",this.hidetranscript.bind(this)),this.msgMedia&&(this.msgMedia.addEventListener("loadedmetadata",this.msgcondbtnPauseMedia.bind(this)),this.msgMedia.addEventListener("play",this.msgbtnPlayMedia.bind(this)),this.msgMedia.addEventListener("playing",this.msgbtnPlayMedia.bind(this)),this.msgMedia.addEventListener("pause",this.msgbtnPauseMedia.bind(this))),this.msgControls&&(this.msgplBtn.on("click",this.msgPlayPause.bind(this)),this.msgforBtn.on("click",this.msgForwardMedia.bind(this)),this.msgbckBtn.on("click",this.msgSkipbackMedia.bind(this)))}},{key:"forwardMedia",value:function(){var t,e;e=isNaN(this.media.duration)?30:this.media.duration,t=this.media.currentTime===1/0?0:this.media.currentTime,this.media.currentTime=Math.min(t+30,e),this.forBtn.blur()}},{key:"skipbackMedia",value:function(){var t;t=this.media.currentTime===1/0?0:this.media.currentTime,this.media.currentTime=Math.max(t-10,0),this.bckBtn.blur()}},{key:"msgPlayPause",value:function(){this.msgMediaObj.media.paused?this.msgMediaObj.media.play():this.msgMediaObj.media.pause()}},{key:"msgForwardMedia",value:function(){var t,e;e=isNaN(this.msgMedia.duration)?15:this.msgMedia.duration,t=this.msgMedia.currentTime===1/0?0:this.msgMedia.currentTime,this.msgMedia.media.currentTime=Math.min(t+15,e),this.msgforBtn.blur()}},{key:"msgSkipbackMedia",value:function(){var t;t=this.msgMedia.currentTime===1/0?0:this.msgMedia.currentTime,this.msgMedia.media.currentTime=Math.max(t-15,0),this.msgbckBtn.blur()}},{key:"mediaPlayToggle",value:function(){this.pbrBtn.parent().toggleClass("toggled-window")}},{key:"revealList",value:function(){this.list.slideToggle(400),this.rlbtn.toggleClass("toggled-on"),this.rlbtn.hasClass("toggled-on")||jQuery("html, body").animate({scrollTop:this.player.offset().top},400),this.rlbtn.blur()}},{key:"mediaPlayRate",value:function(t){var i=jQuery(t),s=parseFloat(i.text()),a=i.closest(".ppjs__button");e[this.id].playRate=s,a.length&&a.hasClass("toggled-window")&&(a.find(".pp-rate").text(s),this.media.playbackRate=s,a.removeClass("toggled-window"))}},{key:"btnPlayMedia",value:function(){this.podcast.hasClass("postview")?e.currentlyPlaying=!1:e.currentlyPlaying=this.autoSticky.bind(this),this.plBtn.removeClass("playing pause"),this.bufferedPlay()}},{key:"bufferedPlay",value:function(){var t=this;this.plBtn.hasClass("pause")?this.plBtn.removeClass("buffering"):this.media.readyState>=0&&this.media.readyState<4?(this.plBtn.addClass("buffering"),setTimeout((function(){t.bufferedPlay()}),250)):(this.plBtn.removeClass("buffering"),this.plBtn.addClass("playing"))}},{key:"btnPauseMedia",value:function(){this.plBtn.removeClass("playing"),this.plBtn.addClass("pause")}},{key:"showtranscript",value:function(t){t.preventDefault(),this.transcript.slideToggle("fast")}},{key:"hidetranscript",value:function(){this.transcript.slideUp("fast")}},{key:"showsocialshare",value:function(){this.ssBtn.parent().toggleClass("toggled-window"),this.podcast.find(".ppsocial__copylink").removeClass("pp-link-copied")}},{key:"condbtnPauseMedia",value:function(){this.plBtn.removeClass("playing")}},{key:"msgbtnPlayMedia",value:function(){this.msgplBtn.addClass("playing")}},{key:"msgbtnPauseMedia",value:function(){this.msgplBtn.removeClass("playing")}},{key:"msgcondbtnPauseMedia",value:function(){this.msgplBtn.removeClass("playing")}},{key:"modControlMarkup",value:function(){var t,e,i,s,a,n,o,r,d,l,p="pp-podcast-".concat(this.instance),c="ppe-".concat(this.instance,"-1"),h=!!this.data[p]&&this.data[p].rdata,m=!!this.data[p]&&this.data[p].load_info;if(this.data[p]&&(a=(s=this.data[p][c]?this.data[p][c]:{}).featured,l=s.duration||"00:00"),this.mediaObj.isVideo)this.controls.find(".ppjs__time, .ppjs__time-rail").wrapAll('<div class="ppjs__video-timer" />'),this.controls.prepend(this.settings.ppPlayPauseBtn),this.controls.find(".ppjs__fullscreen-button > button").html(this.settings.ppMaxiScrnBtn+this.settings.ppMiniScrnBtn),this.controls.find(".ppjs__fullscreen-button").after(this.settings.ppVideoShare),this.transcript.find(".ppjs__img-wrapper").hide(),a&&this.layers.find(".ppjs__poster").empty().append('<img src="'+a+'"/>').show();else{if(this.controls.find(".ppjs__time").wrapAll('<div class="ppjs__audio-timer" />'),this.controls.find(".ppjs__duration").text(l),this.controls.find(".ppjs__time-rail").wrap('<div class="ppjs__audio-time-rail" />'),t=jQuery("<div />",{class:"ppjs__audio-controls"}),n=this.transcript.find(".ppjs__img-wrapper").first(),t.html(this.settings.ppAudioControlBtns),this.controls.prepend(t),this.podcast.hasClass("modern")){var u=this.controls.find(".head-wrapper").wrap('<div class="ppjs__head-content" />'),f=this.controls.find(".ppjs__secondary-controls"),y=this.controls.find(".ppjs__time");u.after(f),this.controls.find(".ppjs__audio-timer").next(".ppjs__audio-time-rail").addBack().wrapAll('<div class="ppjs__atime-container" />'),this.controls.find(".ppjs__atime-container").append(y)}if(!this.podcast.is(".single-audio, .hide-content, .single-episode")&&this.isPremium&&this.controls.find(".ppjs__secondary-controls").append(this.settings.ppAdditionalControls),this.controls.find(".ppjs__head-container").prepend(n),(e=!!(e=this.transcript.find(".episode-single__title")).length&&e.html())&&this.controls.find(".ppjs__episode-title").html(e),this.podcast.hasClass("special-style"))this.controls.find(".ppjs__episode-excerpt").hide();else if(d=this.podcast.data("teaser"),o=(o=!!m&&m.args.elength)||this.podcast.data("elength"),r=this.podcast.data("eunit"),i=this.transcript.find(".episode-single__description"),"full"===d&&i.length){var v=jQuery("<div />",{class:"ppjs__episode-full-content"});this.controls.find(".ppjs__more").css("display","none"),this.controls.find(".ppjs__episode-excerpt").before(v),this.controls.find(".ppjs__head-container").css("align-items","flex-start"),this.controls.find(".ppjs__episode-full-content").html(i.html()),this.controls.find(".ppjs__episode-excerpt").hide()}else"none"===d?this.controls.find(".ppjs__episode-excerpt").hide():(i=!(!(i=!!i.length&&i.text().trim())||!i.length)&&i,o&&i?(r?i.length>o?(i=i.substr(0,o),this.controls.find(".ppjs__more").css("display","inline")):this.controls.find(".ppjs__more").css("display","none"):i.split(/\s+/).length>o?(i=i.split(/\s+/).splice(0,o).join(" "),this.controls.find(".ppjs__more").css("display","inline")):this.controls.find(".ppjs__more").css("display","none"),this.controls.find(".ppjs__excerpt-content").text(i),this.controls.find(".ppjs__episode-excerpt").show()):this.controls.find(".ppjs__episode-excerpt").hide());if(this.props.isWide)if(h&&void 0!==h.title&&h.title)this.controls.find(".ppjs__podcast-title").html(h.title);else{var g=this.podcast.find(".pod-items__title");(g=!!g.length&&g.html())&&this.controls.find(".ppjs__podcast-title").html(g)}else if(this.isLargeScrn&&(this.podcast.hasClass("narrow-player")||this.podcast.hasClass("wide-player"))){var b=n.find(".ppjs__img-btn");b.attr("sizes","(max-width: 640px) 100vw, 640px"),void 0!==b.attr("data-sizes")&&b.attr("data-sizes","(max-width: 640px) 100vw, 640px")}jQuery(this.media).find("audio.pp-podcast-episode.hide-audio").remove()}this.modMediaMarkup(),this.msgMediaObj&&(this.msgControls.find(".ppjs__time").wrapAll('<div class="ppjs__audio-timer" />'),this.msgControls.find(".ppjs__time-rail").wrap('<div class="ppjs__audio-time-rail" />'),(t=jQuery("<div />",{class:"ppjs__audio-controls"})).html(this.settings.ppAudioControlBtns),this.msgControls.prepend(t),h&&void 0!==h.msgtext&&this.msgControls.find(".ppjs__episode-title").text(h.msgtext))}},{key:"modMediaMarkup",value:function(){var t=this;if(!1!==e[this.id].fetched){var i,s="pp-podcast-".concat(this.instance),a="ppe-".concat(this.instance,"-1"),n=!!this.data[s]&&this.data[s].rdata;if(this.data[s]&&(i=this.data[s][a]?this.data[s][a]:{}).featured,i&&n){var o=encodeURIComponent(i.link),r=jQuery("<div>").html(i.src).html().replace(/&amp;/g,"&"),d=this.controls.find(".ppshare__social"),l=encodeURIComponent(i.title);if(this.isPremium&&!1!==n&&"feedurl"===n.from){if(void 0!==i.key){var p={ppplayer:n.fprint,ppepisode:i.key},c=jQuery.param(p),h=n.permalink;o=h?h+(h.indexOf("?")<0?"?":"&")+c:o,o=encodeURIComponent(o)}}else if(this.isPremium){var m=jQuery.param({sharedby:"pplayer"});o=o+(o.indexOf("?")<0?"?":"&")+encodeURIComponent(m)}var u="https://www.facebook.com/sharer.php?u="+o,f="https://twitter.com/intent/tweet?url="+o+"&text="+l,y="https://www.linkedin.com/shareArticle?mini=true&url="+o,v="mailto:?subject="+l+"&body=Link:"+o;d.find(".ppsocial__facebook").attr("href",u),d.find(".ppsocial__twitter").attr("href",f),d.find(".ppsocial__linkedin").attr("href",y),d.find(".ppsocial__email").attr("href",v),d.find("input.pp-copylink").val(decodeURIComponent(o)),this.controls.find(".ppshare__download").attr("href",r)}}else!1===this.timeOut&&setTimeout((function(){t.modMediaMarkup()}),200)}},{key:"modLayersMarkup",value:function(){this.layers.find(".ppjs__overlay-play > .ppjs__overlay-button").html(this.settings.ppPlayCircle),this.layers.find(".ppjs__overlay > .ppjs__overlay-loading").html(this.settings.ppVidLoading)}},{key:"autoSticky",value:function(){var t=this;this.autostickytimer||this.modalObj&&(this.autostickytimer=!0,this.modalObj.modal&&this.modalObj.modal.hasClass("pp-modal-open")?this.isInViewport(this.podcast)&&this.modalObj.returnElem():this.plBtn.hasClass("playing")&&(this.isInViewport(this.podcast)||this.modalObj.create(this.singleWrap,this.mediaObj,this.msgMediaObj,!1,!1)),setTimeout((function(){t.autostickytimer=!1}),66))}}],i&&r(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,i}();function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=Array(e);i<e;i++)s[i]=t[i];return s}function h(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,u(s.key),s)}}function m(t,e,i){return(e=u(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function u(t){var e=function(t){if("object"!=p(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,"string");if("object"!=p(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==p(e)?e:e+""}var f=function(){return t=function t(i){var s=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),m(this,"listItem",void 0),m(this,"loadMore",void 0),m(this,"statTimeOut",null),this.id=i,this.podcast=e[i].podcast,this.list=e[i].list,this.episode=e[i].episode,this.player=e[i].player,this.mediaObj=e[i].mediaObj,this.media=this.mediaObj.media,this.instance=e[i].instance,this.modalObj=e[i].modal,this.modal=!!this.modalObj&&this.modalObj.modal,this.single=e[i].single,this.singleWrap=e[i].singleWrap,this.data=e.podcastPlayerData,this.msgMediaObj=e[i].msgMediaObj,this.msgControls=!!this.msgMediaObj&&jQuery(this.msgMediaObj.controls),this.msgMedia=!!this.msgMediaObj&&this.msgMediaObj.media,this.msgFreqCounter=0,this.controls=jQuery(this.mediaObj.controls),this.layers=this.controls.prev(".ppjs__layers"),this.plBtn=this.controls.find(".ppjs__playpause-button > button"),this.ccBtn=this.controls.find(".ppjs__cc-button > a"),this.prevBtn=this.podcast.find(".pp-prev-btn").attr("disabled",!0),this.nxtBtn=this.podcast.find(".pp-next-btn"),this.copylink=this.podcast.find(".ppsocial__copylink"),this.copyField=this.podcast.find("input.pp-copylink"),this.playingAmsg=!1,this.playAmsg=!1,this.played=!1,this.settings=e[i].settings,this.isPremium=this.settings.isPremium,this.i18n=this.settings.i18n||{},this.timeOut=!1,this.playTime=!1,this.runCookieUpdate=!1,this.listItem=!1,this.audioFirstPlay=!0,this.isCaptionOpen=!1,this.currentCaptions=!1,this.userFeedBack=!1,setTimeout((function(){s.timeOut=!0}),3e3),this.events()},i=[{key:"events",value:function(){var t=this,e=this,i=!!e.modalObj&&e.modalObj.modal,s=!!i&&i.find(".pp-caption-text"),a="pp-podcast-".concat(this.instance),n=!!this.data[a]&&this.data[a].rdata,o=function(t){var e=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var s,a,n,o,r=[],d=!0,l=!1;try{if(n=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;d=!1}else for(;!(d=(s=n.call(i)).done)&&(r.push(s.value),r.length!==e);d=!0);}catch(t){l=!0,a=t}finally{try{if(!d&&null!=i.return&&(o=i.return(),Object(o)!==o))return}finally{if(l)throw a}}return r}}(t,e)||function(t,e){if(t){if("string"==typeof t)return c(t,e);var i={}.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?c(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.split(":"),3),i=e[0],s=e[1],a=e[2];return 3600*parseInt(i)+60*parseInt(s)+parseFloat(a)};if(e.podcast.hasClass("modern")?(e.list.on("click",".pod-entry__mplay, .pod-entry__title",(function(t){t.preventDefault(),e.listItem=jQuery(this).closest(".episode-list__entry, .episode-list__search-entry"),e.modPrevBtn(),e.modNextBtn(),e.play(!0),e.podcast.hasClass("search-opened")&&(e.prevBtn.attr("disabled",!0),e.nxtBtn.attr("disabled",!0))})),e.list.on("click",".pod-entry__mscript",(function(t){var i=jQuery(this);if(!i.hasClass("pp-entry__mpost")){var s=i.closest(".episode-list__entry, .episode-list__search-entry");t.preventDefault(),e.showModernEpisodeContent(s)}}))):e.podcast.hasClass("postview")?(e.list.on("click",".pod-entry__title a, .pod-entry__featured",(function(t){var s=jQuery(this);if(!s.hasClass("fetch-post-title")){var a="pp-podcast-".concat(e.instance),n=e.data[a].load_info,o=!!n&&!!n.args&&n.args.hddesc;o=o||!1;var r=!s.hasClass("pod-entry__featured")&&!o||e.mediaObj.isVideo;if(t.preventDefault(),e.listItem=s.closest(".pod-entry"),e.modPrevBtn(),e.modNextBtn(),e.playModal(r),r&&i&&setTimeout((function(){i.find(".ppjs__audio-controls button").first().focus()}),200),!i.hasClass("modal-view")){var d=i.find(".pp-modal-close"),l=i.find(".pp-modal-wrapper");d.hasClass("modal-closed")&&(d.removeClass("modal-closed"),l.animate({height:"toggle"},400))}e.podcast.hasClass("search-opened")&&(e.prevBtn.attr("disabled",!0),e.nxtBtn.attr("disabled",!0))}})),e.list.on("click",".pod-entry__excerpt a",(function(t){var i=jQuery(this);i.hasClass("fetch-feed-title")&&(t.preventDefault(),e.showEpisodeContent(i))}))):e.list.on("click",".episode-list__entry, .episode-list__search-entry",(function(t){t.preventDefault(),e.listItem=jQuery(this),e.modPrevBtn(),e.modNextBtn(),e.play(!0),e.podcast.hasClass("search-opened")&&(e.prevBtn.attr("disabled",!0),e.nxtBtn.attr("disabled",!0))})),i){var r=i.find(".pp-modal-tabs-list");r.length&&r.on("click",".pod-entry__mplay,.pod-entry__title a, .pod-entry__featured",(function(t){var s=jQuery(this).closest(".pod-entry");i.find(".modal-"+e.instance).length&&(t.preventDefault(),e.listItem=s,e.modPrevBtn(),e.modNextBtn(),e.playModal(!1))}))}this.prevBtn.on("click",this.playPreviousEpisode.bind(this)),this.nxtBtn.on("click",this.playNextEpisode.bind(this)),this.msgMedia&&this.msgMedia.addEventListener("ended",this.msgMediaEnded.bind(this)),this.plBtn.on("click",this.playPauseBtn.bind(this)),this.layers&&this.layers.find(".ppjs__overlay-play").on("click",this.playPauseBtn.bind(this)),this.copylink.on("click",(function(t){t.preventDefault(),e.copyLink()})),jQuery(window).on("load",(function(){e.podcast.parent().hasClass("pp-sticky-player")&&(e.listItem=e.podcast.find(".pod-entry").first(),e.modPrevBtn(),e.modNextBtn(),e.showStickyPlayer())}));var d=this.settings.cookies||!1;if(this.isPremium&&d&&(this.mediaObj.media.addEventListener("playing",this.updateCookie.bind(this)),this.mediaObj.media.addEventListener("paused",this.stopCookieUpdate.bind(this)),this.mediaObj.media.addEventListener("ended",this.deleteCookie.bind(this))),this.mediaObj.media.addEventListener("ended",this.mediaEnded.bind(this)),this.settings.isPremium&&this.settings.analytics&&this.media.addEventListener("play",this.playAnalytics.bind(this)),this.settings.isPremium&&this.settings.transcripts&&(this.media.addEventListener("play",this.displayCaptions.bind(this)),this.media.addEventListener("pause",this.hideCaptions.bind(this)),this.ccBtn.on("click",this.toggleCaptions.bind(this)),this.modal&&this.modal.find(".pp-caption-close").on("click",function(){this.isCaptionOpen=!1,this.modal.find("#pp-closed-captions").hide(),this.modal.find(".pp-caption-text").html("")}.bind(this)),this.media.addEventListener("timeupdate",(function(){var e=t.media.currentTime;if(e&&t.isCaptionOpen&&t.currentCaptions&&s){var i=t.currentCaptions.find((function(t){return e>=o(t.start)&&e<=o(t.end)}));i&&s.html(i.text)}}))),i&&this.settings.isPremium&&n&&n.showFormTime){var l=i.find("#pp-user-feedback"),p=l.find(".pp-user-feedback-message"),h=l.find(".pp-fback-close"),m=l.find(".pp-thumbs-up"),u=l.find(".pp-thumbs-down"),f=l.find(".pp-user-feedback-response");this.media.addEventListener("play",(function(){t.userFeedBack=!1,l.find(".pp-user-feedback-initial").show(),l.hide(),f.html("")})),this.media.addEventListener("timeupdate",(function(){var e=t.media.currentTime;!t.userFeedBack&&e>=n.showFormTime&&(t.userFeedBack=!0,p.html(n.feedbackText),l.fadeIn())})),h.on("click",(function(){l.hide(),f.html("")})),m.on("click",(function(){l.find(".pp-user-feedback-initial").hide();var e=n.positiveUrl?'<a href="'.concat(n.positiveUrl,'" target=_blank>').concat(n.positiveUrl,"</a>"):"",i=n.positiveText?n.positiveText:"";f.html(i?"<p>".concat(i," ").concat(e,"</p>"):""),t.submitUserFeedback(!0),setTimeout((function(){l.fadeOut("fast",(function(){f.html("")}))}),3e3)})),u.on("click",(function(){l.find(".pp-user-feedback-initial").hide();var e=!!n.negativeForm,i=n.negativeText?n.negativeText:"",s=jQuery("<span />",{class:"pp-feedback__loading"}).html(t.settings.ppVidLoading),a="";e&&(a='\n\t\t\t\t\t\t<div class="pp-user-feedback-form">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<label for="pp-user-feedback-message">'.concat(t.i18n.message||"Your Message",'</label>\n\t\t\t\t\t\t\t\t<textarea id="pp-user-feedback-message" name="pp-user-feedback-message" required></textarea>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<label for="pp-user-feedback-name">').concat(t.i18n.name||"Your Name",'</label>\n\t\t\t\t\t\t\t\t<input type="text" id="pp-user-feedback-name" name="pp-user-feedback-name" required>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<label for="pp-user-feedback-email">').concat(t.i18n.email||"Your Email",'</label>\n\t\t\t\t\t\t\t\t<input type="email" id="pp-user-feedback-email" name="pp-user-feedback-email" required>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<button class="pp-user-feedback-send">').concat(s[0].outerHTML,'<span class="pp-feedback-send-text">').concat(t.i18n.send||"Send","</span></button>\n\t\t\t\t\t\t</div>")),f.html(i?"<p>".concat(i,"</p>").concat(a):""),t.submitUserFeedback(!1)})),f.on("click",".pp-user-feedback-send",(function(e){var i=jQuery(e.target).closest(".pp-user-feedback-send"),s=!!f[0]&&f[0];if(s){var a=s.querySelector("#pp-user-feedback-message"),n=s.querySelector("#pp-user-feedback-email"),o=s.querySelector("#pp-user-feedback-name"),r=!0;if(a&&n&&o){var d=function(t,e){var i=t.parentNode.querySelector(".pp-feedback-error-message");i&&i.classList.contains("pp-feedback-error-message")||((i=document.createElement("span")).classList.add("pp-feedback-error-message"),t.parentNode.appendChild(i)),i.textContent=e,t.classList.add("pp-border-red")},p=function(t){var e=t.parentNode.querySelector(".pp-feedback-error-message");e&&e.classList.contains("pp-feedback-error-message")&&e.remove(),t.classList.remove("pp-border-red")};a.value.trim()?p(a):(d(a,"Feedback is required."),r=!1),o.value.trim()?p(o):(d(o,"Name is required."),r=!1),n.value.trim()?/^\S+@\S+\.\S+$/.test(n.value.trim())?p(n):(d(n,"Enter a valid email address."),r=!1):(d(n,"Email is required."),r=!1),r&&(i.addClass("pp-sending"),t.submitFeedbackForm(a.value.trim(),o.value.trim(),n.value.trim(),l,f)),[a,o,n].forEach((function(t){t.addEventListener("input",(function(){t.value.trim()?p(t):d(t,"This field is required.")}))}))}}}))}}},{key:"submitUserFeedback",value:function(t){var e,i="pp-podcast-".concat(this.instance),s=!!this.data[i]&&this.data[i].rdata,a=this.listItem.attr("id")||this.listItem.attr("data-pid"),n=this.data.ajax_info;e=this.listItem.hasClass("episode-list__search-entry")?this.data.search[a]:this.data[i][a];var o=s.fprint||s.podcast||!1,r=e.key||s.episode||!1;if(o&&r){var d={action:"pp_user_likes_feedback",type:t?"positive":"negative",security:n.security,podcast:o,episode:r};jQuery.ajax({url:n.ajaxurl,data:d,type:"POST",timeout:4e3,success:function(t){JSON.parse(t).success&&console.log("Feedback Submitted Successfully")},error:function(t,e,i){console.log(i)}})}else console.log("Cannot Submit User Feedback.")}},{key:"submitFeedbackForm",value:function(t,e,i,s,a){var n,o=this,r="pp-podcast-".concat(this.instance),d=!!this.data[r]&&this.data[r].rdata,l=this.listItem.attr("id")||this.listItem.attr("data-pid"),p=this.data.ajax_info;n=this.listItem.hasClass("episode-list__search-entry")?this.data.search[l]:this.data[r][l];var c=d.fprint||d.podcast||!1,h=n.key||d.episode||!1;if(c&&h){var m={action:"pp_send_feedback_mail",message:t,name:e,email:i,security:p.security,podcast:c,episode:h};jQuery.ajax({url:p.ajaxurl,data:m,type:"POST",timeout:4e3,success:function(t){JSON.parse(t).success&&console.log("Feedback Mailed Successfully"),a.innerHTML="".concat(o.i18n.thanks||"Thanks for your feedback"),setTimeout((function(){s.fadeOut("fast",(function(){a.html("")}))}),3e3)},error:function(t,e,i){console.log(i),setTimeout((function(){s.fadeOut("fast",(function(){a.html("")}))}),3e3)}})}else console.log("Cannot Send User Feedback.")}},{key:"updateCookie",value:function(){if(this.listItem){var t,i="pp-podcast-".concat(this.instance),s=!!this.data[i]&&this.data[i].rdata,a=this.listItem.attr("id")||this.listItem.attr("data-pid");if(t=this.listItem.hasClass("episode-list__search-entry")?!!this.data.search&&this.data.search[a]:!!this.data[i]&&this.data[i][a],this.playTime&&(this.mediaObj.media.currentTime=this.playTime,this.playTime=!1),this.isPremium&&!1!==s&&void 0!==t&&t)if("feedurl"===s.from){var n={fmethod:"feed",ppplayer:s.fprint,ppepisode:t.key,time:0};e.createCookie("ppCookie",n,7);var o=this.mediaObj.getSrc();this.runCookieUpdate=!0,this.updateEpisodeCookie(o)}else if("posts"===s.from){var r={fmethod:"post",epid:t.id,time:0};e.createCookie("ppCookie",r,7);var d=this.mediaObj.getSrc();this.runCookieUpdate=!0,this.updateEpisodeCookie(d)}else if("link"===s.from){var l={fmethod:"link",audioSrc:t.src,audioTitle:t.title,time:0};e.createCookie("ppCookie",l,7);var p=this.mediaObj.getSrc();this.runCookieUpdate=!0,this.updateEpisodeCookie(p)}}}},{key:"updateEpisodeCookie",value:function(t){var i=this,s=this.mediaObj.getSrc();if(t===s&&this.runCookieUpdate){var a=e.readCookie("ppCookie");a.time=this.media.currentTime,e.createCookie("ppCookie",a,7),setTimeout((function(){i.updateEpisodeCookie(t)}),4e3)}}},{key:"stopCookieUpdate",value:function(){this.runCookieUpdate=!1}},{key:"deleteCookie",value:function(){this.runCookieUpdate=!1,e.eraseCookie("ppCookie")}},{key:"playPreviousEpisode",value:function(){if(this.prevBtn.attr("disabled",!0),this.listItem&&!this.listItem.hasClass("episode-list__search-entry")){var t=this.listItem.prev(".episode-list__entry");if(t.length)return this.listItem=t,this.modNextBtn(),this.controls.parents("#pp-modal-window").length?this.playModal(this.modalObj.modal&&this.modalObj.modal.hasClass("modal-view")):this.play(),void(this.listItem.prev(".episode-list__entry").length&&this.prevBtn.attr("disabled",!1));this.listItem.removeClass("activeEpisode media-playing")}this.prevBtn.blur()}},{key:"modPrevBtn",value:function(){this.prevBtn.attr("disabled",!0),this.listItem&&!this.listItem.hasClass("episode-list__search-entry")&&this.listItem.prev(".episode-list__entry").length&&this.prevBtn.attr("disabled",!1)}},{key:"playNextEpisode",value:function(){if(this.listItem&&!this.listItem.hasClass("episode-list__search-entry")){var t=this.listItem.next(".episode-list__entry");t.length?(this.listItem=t,this.modPrevBtn(),this.controls.parents("#pp-modal-window").length?this.playModal(this.modalObj.modal&&this.modalObj.modal.hasClass("modal-view")):this.play(),this.listItem.next(".episode-list__entry").length||this.checkforNextEpisode(!1)):this.checkforNextEpisode(!0)}else{var e=this.list.find(".episode-list__entry").first();e.length&&(this.listItem=e,this.podcast.hasClass("postview")?this.playModal(this.modalObj.modal&&this.modalObj.modal.hasClass("modal-view")):this.play())}this.nxtBtn.blur()}},{key:"checkforNextEpisode",value:function(t){if(this.podcast.hasClass("single-audio")||this.podcast.hasClass("single-episode"))this.nxtBtn.attr("disabled",!0);else if(this.loadMore||(this.loadMore=e[this.id].loadMore),this.loadMore){var i=!!this.listItem.attr("data-pid");this.loadMore.loadEpisodes(i);var s=this.listItem.next(".episode-list__entry");s.length?t&&(this.listItem=s,this.modPrevBtn(),this.play()):this.nxtBtn.attr("disabled",!0)}}},{key:"modNextBtn",value:function(){this.nxtBtn.is(":disabled")&&this.listItem&&!this.listItem.hasClass("episode-list__search-entry")&&this.listItem.next(".episode-list__entry").length&&this.nxtBtn.attr("disabled",!1),this.listItem&&!this.listItem.hasClass("episode-list__search-entry")&&(this.listItem.next(".episode-list__entry").length||this.checkforNextEpisode())}},{key:"showEpisodeContent",value:function(t){var e,i=t.closest(".pod-entry"),s="pp-podcast-".concat(this.instance),a=i.attr("id"),n=i.find(".pod-entry__excerpt");e=i.hasClass("episode-list__search-entry")?this.data.search[a]:this.data[s][a],n.html(e.description).addClass("expanded")}},{key:"showModernEpisodeContent",value:function(t){var e,i="pp-podcast-".concat(this.instance),s=t.attr("id");e=t.hasClass("episode-list__search-entry")?this.data.search[s]:this.data[i][s],this.single.find(".episode-single__title").html(e.title),this.single.find(".episode-single__author").html(e.author),this.single.find(".episode-single__description").html(e.description),this.episode.slideDown("fast")}},{key:"common",value:function(){var t,i,s,a,n,o,r,d,l,p="pp-podcast-".concat(this.instance),c=!!this.data[p]&&this.data[p].rdata,h=!!this.data[p]&&this.data[p].load_info,m=(!!h&&h.args,this.listItem.attr("id")||this.listItem.attr("data-pid")),u=!!this.modalObj&&this.modalObj.modal,f=e[this.id].playRate||1,y=this.controls.find(".ppshare__social");if(0<(t=this.list.find(".activeEpisode")).length&&t.removeClass("activeEpisode media-playing"),u){var v=u.find(".pp-modal-tabs-list");v.length&&v.find(".activeEpisode").removeClass("activeEpisode media-playing")}if(this.msgMediaObj&&(this.msgMediaObj.media.paused||this.msgMediaObj.media.pause(),this.msgMediaObj.media.currentTime=0),this.played=!0,this.playingAmsg=!1,this.player.removeClass("msg-playing"),i=this.listItem.hasClass("episode-list__search-entry")?this.data.search[m]:this.data[p][m],s=encodeURIComponent(i.link),a=encodeURIComponent(i.title),n=jQuery("<div>").html(i.src).html().replace(/&amp;/g,"&"),this.isPremium&&!1!==c&&"feedurl"===c.from){if(void 0!==i.key){var g={ppplayer:c.fprint,ppepisode:i.key},b=jQuery.param(g),_=c.permalink;s=_?_+(_.indexOf("?")<0?"?":"&")+b:s,s=encodeURIComponent(s)}}else if(this.isPremium){var j=jQuery.param({sharedby:"pplayer"});s=s+(s.indexOf("?")<0?"?":"&")+encodeURIComponent(j)}var k="https://www.facebook.com/sharer.php?u="+s,C="https://twitter.com/intent/tweet?url="+s+"&text="+a,w="https://www.linkedin.com/shareArticle?mini=true&url="+s,O="mailto:?subject="+a+"&body=Link:"+s;if(this.listItem.addClass("activeEpisode media-playing"),this.episode.find(".episode-single__title").html(i.title),this.episode.find(".episode-single__author > .single-author").html(i.author),this.controls.find(".ppjs__episode-title").html(i.title),this.episode.find(".episode-single__description").html(i.description),this.modalObj){var S=this.modalObj.modal.find(".pp-modal-aux-wrapper.aux-open");S.length&&(S.find(".episode-single__title").html(i.title),S.find(".episode-single__author > .single-author").html(i.author),S.find(".episode-single__description").html(i.description),S.find(".pp-modal-tabs-list").hide(),S.find(".lists-tab").removeClass("selected"),S.find(".content-tab").addClass("selected"),S.find(".pp-modal-tabs-content").fadeIn(),S.animate({scrollTop:0},400))}return y.find(".ppsocial__facebook").attr("href",k),y.find(".ppsocial__twitter").attr("href",C),y.find(".ppsocial__linkedin").attr("href",w),y.find(".ppsocial__email").attr("href",O),y.find("input.pp-copylink").val(decodeURIComponent(s)),this.controls.find(".ppshare__download").attr("href",n),l=this.podcast.data("teaser"),r=this.podcast.data("elength"),d=this.podcast.data("eunit"),this.podcast.hasClass("special-style")||(o=this.episode.find(".episode-single__description"),"full"===l&&o.length?(this.controls.find(".ppjs__more").css("display","none"),this.controls.find(".ppjs__episode-full-content").html(o.html())):"none"===l?this.controls.find(".ppjs__episode-excerpt").hide():""===l&&r&&((o=!!o.length&&o.text().trim())&&o.length?(d?o.length>r?(o=o.substr(0,r),this.controls.find(".ppjs__more").css("display","inline")):this.controls.find(".ppjs__more").css("display","none"):o.split(/\s+/).length>r?(o=o.split(/\s+/).splice(0,r).join(" "),this.controls.find(".ppjs__more").css("display","inline")):this.controls.find(".ppjs__more").css("display","none"),this.controls.find(".ppjs__excerpt-content").text(o),this.controls.find(".ppjs__episode-excerpt").show()):this.controls.find(".ppjs__episode-excerpt").hide())),this.mediaObj.setSrc(n),this.audioFirstPlay=!0,this.mediaObj.load(),this.mediaObj.media.playbackRate=f,this.playMessage(),!0}},{key:"decodeHtmlEntities",value:function(t){var e=document.createElement("textarea");return e.innerHTML=t,e.value}},{key:"btnImage",value:function(){var t,e="pp-podcast-".concat(this.instance),i=this.listItem.attr("id")||this.listItem.attr("data-pid"),s=this.player.find(".ppjs__img-btn").attr("data-src"),a=t=this.listItem.hasClass("episode-list__search-entry")?this.data.search[i]:this.data[e][i],n=a.title,o=a.featured,r=a.fset,d=t.fratio||1,l=this.decodeHtmlEntities(r);o?(this.player.find(".ppjs__img-btn").attr("srcset",l).attr("src",o).attr("alt",n).closest(".ppjs__img-wrapper").removeClass("noimg"),d*=100,d+="%",this.player.find(".ppjs__img-btn-style").css("padding-top",d),"undefined"!==p(s)&&!1!==s&&this.player.find(".ppjs__img-btn").attr("data-srcset",l).attr("data-src",o),this.modalObj&&this.modalObj.modal.find(".ppjs__img-btn").attr("scrset",l).attr("src",o).attr("alt",n).closest(".ppjs__img-wrapper").removeClass("noimg")):(this.player.find(".ppjs__img-wrapper").addClass("noimg"),this.modalObj&&this.modalObj.modal.find(".ppjs__img-wrapper").addClass("noimg"))}},{key:"playPauseBtn",value:function(){if(!1!==this.played)this.plBtn.parents("#pp-modal-window").length||this.modalObj.modal&&this.modalObj.modal.hasClass("pp-modal-open")&&this.modalObj.returnElem(),this.mediaObj.media.paused?(this.mediaObj.media.play(),this.listItem&&this.listItem.addClass("activeEpisode media-playing")):(this.mediaObj.media.pause(),this.listItem&&this.listItem.removeClass("activeEpisode media-playing"));else{if(this.played=!0,this.listItem=this.list.find(".episode-list__entry").first(),!this.listItem.length){var t="ppe-".concat(this.instance,"-1");this.listItem=jQuery("<div />",{class:"episode-list__entry",id:t})}this.play()}}},{key:"play",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this;if(this.listItem.hasClass("activeEpisode"))return this.listItem.removeClass("activeEpisode"),this.mediaObj.media.pause(),this.player.removeClass("msg-playing"),this.playingAmsg=!1,void(this.msgMediaObj&&(this.msgMediaObj.media.pause(),this.msgMediaObj.media.currentTime=0));this.modalObj.modal&&this.modalObj.modal.hasClass("pp-modal-open")&&this.modalObj.returnElem(),!1!==e[this.id].fetched?(this.common(),this.btnImage(),this.singleWrap.addClass("activePodcast"),this.playingAmsg||this.mediaObj.media.play(),t&&!e.isLrgScrn&&jQuery("html, body").animate({scrollTop:this.player.offset().top},400)):!1===this.timeOut&&setTimeout((function(){i.play()}),200)}},{key:"playModal",value:function(t){var i=this;this.modalObj&&(this.listItem.hasClass("activeEpisode")?t?(this.modalObj.modal.removeClass("inline-view").addClass("modal-view"),this.modalObj.scrollDisable(),this.playingAmsg||this.modalObj.modal.find(".episode-primary__title").find(".episode-single__title").html(this.episode.find(".episode-single__title").html())):this.msgMediaObj&&this.playingAmsg?this.msgMediaObj.media.paused?(this.msgMediaObj.media.play(),this.modalObj.modal.removeClass("media-paused"),this.listItem.addClass("media-playing")):(this.msgMediaObj.media.pause(),this.modalObj.modal.addClass("media-paused"),this.listItem.removeClass("media-playing")):this.mediaObj.media.paused?(this.mediaObj.media.play(),this.modalObj.modal.removeClass("media-paused"),this.listItem.addClass("media-playing")):(this.mediaObj.media.pause(),this.modalObj.modal.addClass("media-paused"),this.listItem.removeClass("media-playing")):!1!==e[this.id].fetched?(this.common(),this.singleWrap.hasClass("activePodcast")?t&&(this.modalObj.modal.find(".episode-primary__title").find(".episode-single__title").html(this.episode.find(".episode-single__title").html()),this.modalObj.modal.removeClass("inline-view").addClass("modal-view"),this.modalObj.scrollDisable()):(this.modalObj.modal.hasClass("pp-modal-open")&&this.modalObj.returnElem(),this.modalObj.create(this.singleWrap,this.mediaObj,this.msgMediaObj,t),this.singleWrap.addClass("activePodcast")),t?this.listItem.removeClass("media-playing"):(this.playingAmsg||this.mediaObj.media.play(),this.modalObj.modal.removeClass("media-paused")),this.btnImage()):!1===this.timeOut&&setTimeout((function(){i.playModal()}),200))}},{key:"showStickyPlayer",value:function(){var t=this;if(this.modalObj)if(!1!==e[this.id].fetched){var i=e.readCookie("ppCookie")||{};this.playTime=i.time||!1,this.common(),this.singleWrap.hasClass("activePodcast")||(this.modalObj.modal.hasClass("pp-modal-open")&&this.modalObj.returnElem(),this.modalObj.create(this.singleWrap,this.mediaObj,this.msgMediaObj,!1),this.singleWrap.addClass("activePodcast"))}else!1===this.timeOut&&setTimeout((function(){t.showStickyPlayer()}),200)}},{key:"playMessage",value:function(){var t="pp-podcast-".concat(this.instance),e=!!this.data[t]&&this.data[t].rdata;if(e&&void 0!==e.audiomsg)if(e.playfreq<=this.msgFreqCounter||!1===this.played){if(this.msgFreqCounter=0,"start"===e.msgstart)this.playingAmsg=!0,this.player.addClass("msg-playing"),this.msgMediaObj&&this.msgMediaObj.media.play();else if("end"===e.msgstart)this.playAmsg=!0;else if("custom"===e.msgstart){var i=60*e.msgtime[0]*60+60*e.msgtime[1]+e.msgtime[2];this.deferredPlay(i)}}else this.msgFreqCounter++,this.playingAmsg=!1}},{key:"deferredPlay",value:function(t){var e=this;if(t){var i=this.mediaObj.media.currentTime;i&&i>=t?(this.playingAmsg=!0,this.mediaObj.media.pause(),this.msgMediaObj&&this.msgMediaObj.media.play(),this.player.addClass("msg-playing")):setTimeout((function(){e.deferredPlay(t)}),1e3)}}},{key:"mediaEnded",value:function(){if(!0===this.playAmsg)this.playingAmsg=!1,this.player.addClass("msg-playing"),this.msgMediaObj&&this.msgMediaObj.media.play();else if(this.listItem&&!this.listItem.hasClass("episode-list__search-entry")){var t="pp-podcast-".concat(this.instance),e=this.data[t]?this.data[t].rdata:{},i=e.autoplay?e.autoplay:"";"disable"===i?this.listItem.removeClass("activeEpisode media-playing"):"reverse"===i?this.playPreviousEpisode():this.playNextEpisode()}}},{key:"msgMediaEnded",value:function(){if(!0===this.playingAmsg)this.player.removeClass("msg-playing"),this.playingAmsg=!1,this.mediaObj.media.play();else if(!0===this.playAmsg&&this.listItem&&!this.listItem.hasClass("episode-list__search-entry")){var t="pp-podcast-".concat(this.instance),e=this.data[t]?this.data[t].rdata:{},i=e.autoplay?e.autoplay:"";"disable"===i?this.listItem.removeClass("activeEpisode media-playing"):"reverse"===i?this.playPreviousEpisode():this.playNextEpisode()}}},{key:"copyLink",value:function(){this.copyField.length&&(this.copyField.show(),this.copyField[0].select(),this.copyField[0].setSelectionRange(0,99999),document.execCommand("copy"),this.copylink.addClass("pp-link-copied"))}},{key:"playAnalytics",value:function(){var t=this;if(this.audioFirstPlay&&(this.audioFirstPlay=!1,this.listItem&&this.data)){var e=this.settings.stat_threshold;e||0===e||(e=10),clearTimeout(this.statTimeOut),this.statTimeOut=setTimeout((function(){t.media.paused||t.recordAnalytics()}),1e3*e)}}},{key:"recordAnalytics",value:function(){var t,e="pp-podcast-".concat(this.instance),i=!!this.data[e]&&this.data[e].rdata,s=this.listItem.attr("id")||this.listItem.attr("data-pid"),a=this.data.ajax_info,n=(t=this.listItem.hasClass("episode-list__search-entry")?this.data.search[s]:this.data[e][s]).podkey||i.fprint||i.podcast||!1,o=t.key||i.episode||!1;if(n&&o){var r={action:"pp_podcast_statistics",type:"play",security:a.security,podcast:n,episode:o};jQuery.ajax({url:a.ajaxurl,data:r,type:"POST",timeout:4e3,success:function(t){JSON.parse(t).success&&console.log("Analytics recorded successfully.")},error:function(t,e,i){console.log(i)}})}else console.log("Analytics could not be recorded.")}},{key:"displayCaptions",value:function(){this.currentCaptions=!1,this.isCaptionOpen=!1,this.controls.find(".ppjs__cc-button").hide(),this.modal&&(this.modal.find(".pp-caption-text").html(""),this.modal.find("#pp-closed-captions").hide());var t,e="pp-podcast-".concat(this.instance),i=!!this.data[e]&&this.data[e].rdata,s=this.listItem.attr("id")||this.listItem.attr("data-pid"),a=this.data.ajax_info;t=this.listItem.hasClass("episode-list__search-entry")?this.data.search[s]:this.data[e][s];var n=i.fprint||i.podcast||!1,o=t.key||i.episode||!1;if(n&&o){var r=!!Array.isArray(t.transcript)&&t.transcript[0],d=!!Array.isArray(t.captions)&&t.captions;if(r&&"object"===p(r)&&r.url){var l=this.controls.find(".ppjs__cc-button").find(".pp-cc");if(!r.type||"text/vtt"!==r.type&&"application/x-subrip"!==r.type&&"application/srt"!==r.type)return l.attr("href",r.url).attr("target","_blank"),void this.controls.find(".ppjs__cc-button").fadeIn();if(this.modal)if(d)this.isCaptionOpen=!0,this.currentCaptions=d,this.controls.find(".ppjs__cc-button").fadeIn(),this.modal.find("#pp-closed-captions").fadeIn();else{var c={action:"pp_podcast_captions",url:r.url,type:r.type,rel:r.rel,aurl:a.ajaxurl,security:a.security,podcast:n,episode:o};this.ccFetch(c)}}}}},{key:"toggleCaptions",value:function(t){t.preventDefault(),this.isCaptionOpen?(this.isCaptionOpen=!1,this.modal&&(this.modal.find("#pp-closed-captions").hide(),this.modal.find(".pp-caption-text").html(""))):(this.isCaptionOpen=!0,this.modal&&(this.modal.find("#pp-closed-captions").show(),this.modal.find(".pp-caption-text").html("")))}},{key:"hideCaptions",value:function(){this.isCaptionOpen=!1,this.currentCaptions=!1,this.controls.find(".ppjs__cc-button").fadeOut(),this.modal&&(this.modal.find("#pp-closed-captions").hide(),this.modal.find(".pp-caption-text").html(""))}},{key:"ccFetch",value:function(t){var e=this;t&&t.url&&jQuery.ajax({url:t.aurl,data:t,type:"POST",timeout:4e3,success:function(t){var i=JSON.parse(t);i.success?(e.currentCaptions=i.data,e.isCaptionOpen=!0,e.controls.find(".ppjs__cc-button").fadeIn(),e.modal.find("#pp-closed-captions").fadeIn()):console.log("We did not find captions.")},error:function(t,e,i){console.log(i)}})}}],i&&h(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,i}();const y=f;function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function g(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,b(s.key),s)}}function b(t){var e=function(t){if("object"!=v(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,"string");if("object"!=v(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==v(e)?e:e+""}var _=function(){return t=function t(i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=i,this.podcast=e[i].podcast,this.settings=e[i].settings,this.instance=e[i].instance,this.episodes=e[i].episodes,this.mediaObj=e[i].mediaObj,this.list=e[i].list,this.modalObj=e[i].modal,this.modal=!!this.modalObj&&this.modalObj.modal,this.fetched=e[i].fetched,this.isStyleSupport=e.isStyleSupport,this.data=e.podcastPlayerData,this.loadbtn=this.podcast.find(".episode-list__load-more"),this.auxList=!!this.modal&&this.modal.find(".pp-modal-tabs-list"),this.events()},i=[{key:"events",value:function(){var t=this;this.preLoadEpisodes(),this.loadbtn.on("click",(function(){t.loadEpisodes(!1)})),this.auxList&&this.auxList.length&&this.auxList.on("click",".episode-list__load-more",(function(){t.modal.find(".modal-"+t.instance).length&&t.loadEpisodes(!0)}))}},{key:"preLoadEpisodes",value:function(){var t="pp-podcast-".concat(this.instance),i=!!this.data[t]&&this.data[t].rdata.from,s=!!this.data[t]&&this.data[t].load_info,a=!!s&&s.loaded;i&&"link"!==i?0!=a?e[this.id].fetched=!0:this.fetchEpisodes():i&&this.fetchMediaURL()}},{key:"loadEpisodes",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e="pp-podcast-".concat(this.instance);if(this.data[e]){var i,s=this.episodes.find(".episode-list__entry").first(),a=this.data[e].rdata.from,n=this.data[e].load_info,o=this.data[e].rdata.teaser,r=this.data[e].rdata.elen,d=this.data[e].rdata.eunit,l=jQuery("<div />"),p=s.find(".pod-entry__image"),c=p.length?p.attr("sizes"):"",h=!1;i=t?this.auxList.find(".pod-entry").length:this.list.find(".pod-entry").length;var m=Math.min(i+n.step,n.loaded),u=i+1,f="fetch-feed-title";for("posts"===a&&(f="fetch-post-title");u<=m;u++){var y="ppe-".concat(this.instance,"-").concat(u),v=t?'data-pid="'+y+'"':'id="'+y+'"',g=this.data[e][y];if(h=h||y,void 0!==g){var b=g.title,_=g.description,j=g.author,k=g.date,C=g.link,w=g.featured,O=g.fset,S=g.categories,M=g.tags,x=g.season,P=(S?Object.keys(S).join(" "):"")+" "+(M?Object.keys(M).join(" "):"")+" "+(x||""),E=jQuery("<a />",{href:C,class:f}).html(b),T=jQuery("<a />",{href:C,class:f}).html("[...]"),I=jQuery("<div />",{class:"pod-entry__title"}).html(E),L=jQuery("<div />",{class:"pod-entry__date"}).text(k),Q=jQuery("<div />",{class:"pod-entry__author"}).html(j),B="",A=void 0;if(this.podcast.hasClass("postview")){var F=n.args.display,N=0!=n.args.hdfeat,U=_?jQuery(_).text():"",R=jQuery("<div />",{class:"pod-entry__play"}).html(this.settings.ppPlayCircle+this.settings.ppPauseBtn),D=void 0,H="";if(D=F&&this.isStyleSupport(F,"playbtn")?"":(D=w?jQuery("<img />",{class:"pod-entry__image",src:w,srcset:O,sizes:c,alt:b}):"")?'<div class="pod-entry__thumb">'.concat(D[0].outerHTML,"</div>"):"",N&&!this.isStyleSupport(F,"playbtn")||(B='<div class="pod-entry__featured">'.concat(R[0].outerHTML).concat(D,"</div>")),F&&this.isStyleSupport(F,"excerpt")){var W=void 0;if("none"===o)H="";else if("full"===o){var q=_?jQuery("<div />",{class:"pod-entry__excerpt"}).html(_):"";H=q?q[0].outerHTML:""}else{var V=(W=d?U?U.substr(0,r):"":U?U.split(/\s+/).splice(0,r).join(" "):"")?jQuery("<div />",{class:"pod-entry__excerpt"}).html(W+T[0].outerHTML):"";H=V?V[0].outerHTML:""}}A="\n\t\t\t\t\t<div ".concat(v,' class="episode-list__entry pod-entry" data-search-term="').concat(b.toLowerCase(),'" data-cats="').concat(P.trim(),'">\n\t\t\t\t\t\t<div class="pod-entry__wrapper">\n\t\t\t\t\t\t\t').concat(B,'\n\t\t\t\t\t\t\t<div class="pod-entry__content">\n\t\t\t\t\t\t\t\t').concat(I[0].outerHTML).concat(H).concat(L[0].outerHTML).concat(Q[0].outerHTML,"\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t")}else this.podcast.hasClass("modern")?((A=this.episodes.find(".episode-list__entry").first().clone()).removeClass("activeEpisode media-playing"),A.attr("id",y),A.attr("data-search-term",b.toLowerCase()),A.attr("data-cats",P.trim()),A.find(".pod-entry__title").replaceWith(I),A.find(".pp-entry__mpost").attr("href",C)):((A=this.episodes.find(".episode-list__entry").first().clone()).removeClass("activeEpisode media-playing"),A.attr("id",y),A.attr("data-search-term",b.toLowerCase()),A.attr("data-cats",P.trim()),A.find(".pod-entry__title").replaceWith(I),A.find(".pod-entry__date").replaceWith(L),A.find(".pod-entry__author").replaceWith(Q));l.append(jQuery(A))}}if(t){var J=this.auxList.find(".episode-list__load-more");J.parent().before(l.html()),n.maxItems&&m>=n.maxItems&&J.hide(),n.ids&&m>=n.ids.length&&J.hide()}else this.loadbtn.parent().before(l.html()),n.maxItems&&m>=n.maxItems&&this.loadbtn.hide(),n.ids&&m>=n.ids.length&&this.loadbtn.hide();if(h){var z=this.podcast.find("#"+h);z.length&&(z.find("a").first().focus(),this.podcast.hasClass("postview")&&jQuery("html, body").animate({scrollTop:z.offset().top-150},400))}t||(n.displayed=m),n.loaded-m<=n.step&&this.fetchEpisodes()}}},{key:"fetchEpisodes",value:function(){var t="pp-podcast-".concat(this.instance),e=this.data[t].rdata;"feedurl"===e.from?this.fetchFromFeed():"posts"===e.from&&this.fetchFromPosts()}},{key:"fetchMediaURL",value:function(){var t=this,i="pp-podcast-".concat(this.instance),s="ppe-".concat(this.instance,"-1"),a=this.data[i][s],n=this.data.ajax_info,o=a.src;if(0!=o.indexOf("http://")&&0!=o.indexOf("https://")){var r={action:"pp_fetch_media_url",security:n.security,src:o};jQuery.ajax({url:n.ajaxurl,data:r,type:"POST",timeout:4e3,success:function(i){var s=JSON.parse(i);a.src===a.link&&(a.link=s),a.src=s,e[t.id].fetched=!0,t.mediaObj.setSrc(a.src)},error:function(){a.src="#",a.link="#"}})}else e[this.id].fetched=!0}},{key:"fetchFromFeed",value:function(){var t=this,i="pp-podcast-".concat(this.instance),s=this.data[i].load_info,a=this.data.ajax_info,n=s.step;e[this.id].fetched||(n*=2);var o={action:"pp_fetch_episodes",security:a.security,instance:this.instance,loaded:s.loaded,maxItems:s.maxItems,feedUrl:s.src,step:n,sortby:s.sortby,filterby:s.filterby,args:s.args,offset:s.offset};s.loaded>=s.maxItems?s.displayed>=s.loaded&&this.loadbtn.slideUp("slow"):jQuery.ajax({url:a.ajaxurl,data:o,type:"POST",timeout:4e3,success:function(a){var n=JSON.parse(a);s.loaded=n.loaded,jQuery.extend(!0,t.data[i],n.episodes),e[t.id].fetched=!0},error:function(){t.loadbtn.hide()}})}},{key:"fetchFromPosts",value:function(){var t=this,i="pp-podcast-".concat(this.instance),s=this.data[i].load_info,a=this.data.ajax_info,n=jQuery.extend(!0,{},s.args);e[this.id].fetched||(n.number=2*n.number);var o={action:"pp_fetch_posts",security:a.security,instance:this.instance,offset:s.offset,loaded:s.loaded,args:n,ids:s.ids};s.offset&&0===s.offset||s.ids&&Array.isArray(s.ids)&&s.loaded>=s.ids.length||jQuery.ajax({url:a.ajaxurl,data:o,type:"POST",timeout:4e3,success:function(a){var n=JSON.parse(a);jQuery.isEmptyObject(n)?(s.offset=0,t.loadbtn.slideUp("slow")):(s.loaded=n.loaded,s.ids=n.ids,jQuery.extend(!0,t.data[i],n.episodes),s.offset&&(s.offset+=s.step)),e[t.id].fetched=!0},error:function(){t.loadbtn.hide()}})}}],i&&g(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,i}();const j=_;function k(t){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(t)}function C(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,O(s.key),s)}}function w(t,e,i){return(e=O(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function O(t){var e=function(t){if("object"!=k(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,"string");if("object"!=k(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==k(e)?e:e+""}var S=function(){return t=function t(i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),w(this,"isSrchOpen",!1),w(this,"localTimeOut",null),w(this,"serverTimeOut",null),w(this,"hasLoading",!1),w(this,"prevSearchTerm",""),this.podcast=e[i].podcast,this.instance=e[i].instance,this.isStyleSupport=e.isStyleSupport,this.data=e.podcastPlayerData,this.list=e[i].list,this.episodes=e[i].episodes,this.settings=e[i].settings,this.loadbtn=this.podcast.find(".episode-list__load-more"),this.prevBtn=this.podcast.find(".pp-prev-btn"),this.nextBtn=this.podcast.find(".pp-next-btn"),this.term=!1,this.searchBox=this.list.find(".episode-list__search input"),this.searchResults=this.list.find(".episode-search"),this.searchClose=this.list.find(".episode-list__clear-search"),this.filterDropdown=this.list.find(".episode-list__filter-select"),this.events()},i=[{key:"events",value:function(){this.searchBox.on("keyup paste",this.initSearch.bind(this)),this.searchClose.on("click",this.clearSearch.bind(this)),this.filterDropdown.on("change",this.initFilter.bind(this))}},{key:"initSearch",value:function(){var t=this.searchBox.val();this.term!==t&&(this.term=t,!1===this.isSrchOpen&&(this.podcast.addClass("search-opened"),this.searchResults.addClass("toggled-on"),this.loadbtn.hide(),this.searchClose.show(),this.isSrchOpen=!0),clearTimeout(this.localTimeOut),this.localTimeOut=setTimeout(function(){(t=this.searchBox.val().trim().toLowerCase())&&this.filterItems()}.bind(this),100),clearTimeout(this.serverTimeOut),this.serverTimeOut=setTimeout(function(){this.prevSearchTerm!==t&&this.liveSearch()}.bind(this),500))}},{key:"initFilter",value:function(){this.filterItems(),this.liveSearch()}},{key:"filterItems",value:function(){var t=this.filterDropdown.val()||"",e=this.searchBox.val().trim().toLowerCase(),i=Boolean(e&&e.length>0);this.episodes.find(".episode-list__entry").each((function(){var s=jQuery(this),a=(s.data("cats")||"").toString().split(/\s+/),n=t.length<1||a.includes(t),o=!i||(s.data("search-term")||"").toString().includes(e);n&&o?s.show():s.hide()}))}},{key:"filterEpisodes",value:function(t){this.episodes.find(".episode-list__entry").each((function(){jQuery(this).data("search-term").includes(t)||t.length<1?jQuery(this).show():jQuery(this).hide()}))}},{key:"liveSearch",value:function(){!1===this.isSrchOpen&&(this.podcast.addClass("search-opened"),this.searchResults.addClass("toggled-on"),this.loadbtn.hide(),this.searchClose.show(),this.isSrchOpen=!0);var t=this.filterDropdown.val()||"",e=this.searchBox.val().trim().toLowerCase();if(this.flushSearchResults(),e.length<1&&t.length<1)this.clearSearch();else{if(!1===this.hasLoading){var i=jQuery("<div />",{class:"episode-search__loading"}).html(this.settings.ppVidLoading);this.searchResults.html(i),this.hasLoading=!0}this.fetchResults()}}},{key:"fetchResults",value:function(){var t="pp-podcast-".concat(this.instance),e=this.data[t].rdata;"feedurl"===e.from?this.fetchFromFeed():"posts"===e.from&&this.fetchFromPosts()}},{key:"fetchFromFeed",value:function(){var t=this,e=this.filterDropdown.val()||"",i=this.searchBox.val().trim().toLowerCase(),s="pp-podcast-".concat(this.instance),a=this.data[s].load_info,n=a.displayed,o=this.data.ajax_info,r=jQuery.extend({},a.args);e&&e.length>0&&(r.catfilter=e,n=this.episodes.find('.episode-list__entry[data-cats~="'+e+'"]').length);var d={action:"pp_search_episodes",security:o.security,instance:"s",loaded:a.displayed,displayed:n,maxItems:a.maxItems,feedUrl:a.src,sortby:a.sortby,filterby:a.filterby,offset:a.offset,search:i,args:r};jQuery.ajax({url:o.ajaxurl,data:d,type:"POST",timeout:4e3,success:function(e){var s=JSON.parse(e);jQuery.isEmptyObject(s)?(t.flushSearchResults(),t.searchAnalytics(a.src,i,[])):(t.data.search=s.episodes,t.showSearchResults(s.episodes),t.searchAnalytics(a.src,i,s.episodes))},error:function(e,i,s){t.flushSearchResults(),console.log(s)}})}},{key:"fetchFromPosts",value:function(){var t=this,e=this.filterDropdown.val()||"",i=this.searchBox.val().trim().toLowerCase(),s="pp-podcast-".concat(this.instance),a=this.data[s].load_info,n=this.data.ajax_info,o=jQuery.extend({},a.args);if(e&&e.length>0){o.catfilter=e;var r=this.filterDropdown.get(0),d=jQuery(r.options[r.selectedIndex]).parent().data("attr");"cats"===d?o.filterType="cats":"tags"===d&&(o.filterType="tags")}var l={action:"pp_search_posts",security:n.security,offset:a.displayed,displayed:a.displayed,args:o,instance:"s",search:i,ids:a.ids};jQuery.ajax({url:n.ajaxurl,data:l,type:"POST",timeout:4e3,success:function(e){var i=JSON.parse(e);jQuery.isEmptyObject(i)?t.flushSearchResults():(t.data.search=i.episodes,t.showSearchResults(i.episodes))},error:function(){t.flushSearchResults()}})}},{key:"clearSearch",value:function(){var t="pp-podcast-".concat(this.instance),e=this.data[t].load_info;this.searchBox.val(""),this.filterDropdown.val(""),this.prevSearchTerm="",this.isSrchOpen=!1,this.term=!1,this.podcast.removeClass("search-opened"),this.searchResults.removeClass("toggled-on"),this.searchClose.hide(),this.episodes.find(".episode-list__entry").show(),this.flushSearchResults(),e.displayed<e.loaded&&(this.loadbtn.show(),this.nextBtn.attr("disabled",!1))}},{key:"flushSearchResults",value:function(){this.searchResults.empty(),this.list.find(".episode-list__search-entry").remove(),this.hasLoading=!1}},{key:"showSearchResults",value:function(t){var e="pp-podcast-".concat(this.instance),i=this.data[e].rdata.from,s=this.data[e].load_info,a=Object.getOwnPropertyNames(t),n=a.length-1,o=this.data[e].rdata.teaser,r=this.data[e].rdata.elen,d=this.data[e].rdata.eunit,l=0,p=jQuery("<div />"),c="fetch-feed-title";for("posts"===i&&(c="fetch-post-title");l<=n;l++){var h=a[l],m=t[h],u=m.title,f=m.description,y=m.author,v=m.date,g=m.link,b=m.featured;b||(b=(b=s.args.imgurl)||"");var _=jQuery("<a />",{href:g,class:c}).html(u),j=jQuery("<a />",{href:g,class:c}).html("[...]"),k=jQuery("<div />",{class:"pod-entry__title"}).html(_),C=jQuery("<div />",{class:"pod-entry__date"}).text(v),w=jQuery("<div />",{class:"pod-entry__author"}).html(y),O=void 0;if(this.podcast.hasClass("postview")){var S=s.args.display,M=f?jQuery(f).text():"",x=jQuery("<div />",{class:"pod-entry__play"}).html(this.settings.ppPlayCircle+this.settings.ppPauseBtn),P=void 0,E="";if(P=S&&this.isStyleSupport(S,"playbtn")?"":(P=b?jQuery("<img />",{class:"pod-entry__image",src:b,alt:u}):"")?'<div class="pod-entry__thumb">'.concat(P[0].outerHTML,"</div>"):"",S&&this.isStyleSupport(S,"excerpt")){var T=void 0;if("none"===o)E="";else if("full"===o){var I=f?jQuery("<div />",{class:"pod-entry__excerpt"}).html(jQuery(f).html()):"";E=I?I[0].outerHTML:""}else{var L=(T=d?M?M.substr(0,r):"":M?M.split(/\s+/).splice(0,r).join(" "):"")?jQuery("<div />",{class:"pod-entry__excerpt"}).html(T+j[0].outerHTML):"";E=L?L[0].outerHTML:""}}O='\n\t\t\t\t<div id="'.concat(h,'" class="episode-list__search-entry pod-entry" data-search-term="').concat(u.toLowerCase(),'">\n\t\t\t\t\t<div class="pod-entry__wrapper">\n\t\t\t\t\t\t<div class="pod-entry__featured">\n\t\t\t\t\t\t\t').concat(x[0].outerHTML,"\n\t\t\t\t\t\t\t").concat(P,'\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="pod-entry__content">\n\t\t\t\t\t\t\t').concat(k[0].outerHTML).concat(E).concat(C[0].outerHTML).concat(w[0].outerHTML,"\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t")}else this.podcast.hasClass("modern")?((O=this.episodes.find(".episode-list__entry").first().clone()).removeClass("activeEpisode media-playing episode-list__entry"),O.addClass("episode-list__search-entry"),O.attr("id",h),O.attr("data-search-term",u.toLowerCase()),O.find(".pod-entry__title").replaceWith(k),O.find(".pp-entry__mpost").attr("href",g),O.css("display","block")):((O=this.episodes.find(".episode-list__entry").first().clone()).removeClass("activeEpisode media-playing episode-list__entry"),O.addClass("episode-list__search-entry"),O.attr("id",h),O.attr("data-search-term",u.toLowerCase()),O.find(".pod-entry__title").replaceWith(k),O.find(".pod-entry__date").replaceWith(C),O.find(".pod-entry__author").replaceWith(w),O.css("display","block"));p.append(jQuery(O))}var Q=p.find(".episode-list__search-entry");Q.length&&Q.insertAfter(this.list.find(".pod-entry").last()),this.searchResults.empty(),this.hasLoading=!1}},{key:"searchAnalytics",value:function(t,e,i){if(this.settings.isPremium&&this.settings.analytics){var s=this.data.ajax_info,a=this.episodes.find(".episode-list__entry").filter(":not(:hidden)").length,n=Object.keys(i).length||0;n+=a;var o={action:"pp_podcast_statistics",type:"search",security:s.security,podcast:t,term:e,count:n};jQuery.ajax({url:s.ajaxurl,data:o,type:"POST",timeout:4e3,success:function(t){JSON.parse(t).success&&console.log("Analytics recorded successfully.")},error:function(){console.log("Analytics recording failed.")}})}}}],i&&C(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,i}();const M=S;function x(t){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x(t)}function P(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,T(s.key),s)}}function E(t,e,i){return(e=T(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function T(t){var e=function(t){if("object"!=x(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,"string");if("object"!=x(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==x(e)?e:e+""}const I=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),E(this,"width",void 0),E(this,"resizeTimeout",null),this.id=e,this.playerStyleUpdate(),this.managerHeader(),this.mediaElements(),this.entryEpisodes(),this.loadMore(),this.searchEpisodes(),this.events()},(i=[{key:"events",value:function(){var t=this;clearTimeout(this.resizeTimeout),jQuery(window).on("resize",(function(){t.resizeTimeout=setTimeout(t.playerStyleUpdate.bind(t),100)}))}},{key:"playerStyleUpdate",value:function(){var t=e[this.id].podcast,i=t.width(),s=this.getWidthClass(i);e.isLrgScrn=!window.matchMedia("(max-width: 640px)").matches,e[this.id].isWide=i>720,t.removeClass("wider-player wide-player narrow-player medium-player").addClass(s)}},{key:"getWidthClass",value:function(t){return t>720?"wider-player medium-player wide-player":t>640?"medium-player wide-player":t>450?"wide-player":t>280?"narrow-player":""}},{key:"managerHeader",value:function(){new n(this.id)}},{key:"mediaElements",value:function(){new l(this.id)}},{key:"entryEpisodes",value:function(){new y(this.id)}},{key:"loadMore",value:function(){e[this.id].loadMore=new j(this.id)}},{key:"searchEpisodes",value:function(){new M(this.id)}}])&&P(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,i}();function L(t){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L(t)}function Q(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,B(s.key),s)}}function B(t){var e=function(t){if("object"!=L(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,"string");if("object"!=L(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==L(e)?e:e+""}const A=function(){return t=function t(){var e,i,s;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e=this,s=void 0,(i=B(i="modal"))in e?Object.defineProperty(e,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[i]=s,this.settings=window.ppmejsSettings||{},this.mediaObj=!1,this.msgMediaObj=!1,this.bodyScrollDisabled=!1,this.scrollPosition=0,this.scrollingElem=document.scrollingElement||document.documentElement||document.body,this.setup(),this.events(),this.pauseMedia=this.mediaPause.bind(this),this.playMedia=this.mediaPlay.bind(this)},e=[{key:"setup",value:function(){var t=this.settings,e=t.ppClose,i=t.ppArrowUp,s=t.ppCloseBtnText,a=t.ppAuxModal,n=t.ppThumbsUp,o=t.ppThumbsDown,r=jQuery("<button />",{class:"pp-modal-close"}).html(s+i+e),d=jQuery("<button />",{class:"pp-caption-close"}).html(e),l=jQuery("<button />",{class:"pp-thumbs-up"}).html(n),p=jQuery("<button />",{class:"pp-thumbs-down"}).html(o),c=jQuery("<button />",{class:"pp-fback-close"}).html(e),h='\n\t\t<div id="pp-modal-window" class="pp-modal-window">\n\t\t\t<div id="pp-closed-captions" class="pp-closed-captions">\n\t\t\t\t<div class="pp-caption-text"></div>\n\t\t\t\t'.concat(d[0].outerHTML,'\n\t\t\t</div>\n\t\t\t<div id="pp-user-feedback" class="pp-user-feedback">\n\t\t\t\t<div class="pp-user-feedback-initial">\n\t\t\t\t\t<div class="pp-user-feedback-message"></div>\n\t\t\t\t\t<div class="pp-user-feedback-buttons">').concat(l[0].outerHTML).concat(p[0].outerHTML,'</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="pp-user-feedback-response"></div>\n\t\t\t\t').concat(c[0].outerHTML,'\n\t\t\t</div>\n\t\t\t<div class="pp-modal-container"><div class="pp-modal-wrapper"></div>').concat(r[0].outerHTML,"</div>\n\t\t\t").concat(a,"\n\t\t</div>");jQuery("body").append(h),this.modal=jQuery("#pp-modal-window")}},{key:"events",value:function(){var t=this,e=t.modal.find(".pp-modal-wrapper"),i=t.modal.find(".pp-modal-aux-wrapper"),s=i.find(".pp-modal-tabs-list"),a=i.find(".pp-modal-tabs-content");this.modal.on("click",".pp-modal-close",(function(){var n=jQuery(this);t.modal.hasClass("modal-view")?t.mediaObj.isVideo?t.modalClose():(t.modal.removeClass("modal-view").addClass("inline-view"),t.scrollEnable()):(n.hasClass("modal-closed")?(n.removeClass("modal-closed"),e.animate({height:"toggle"},400)):(n.addClass("modal-closed"),e.animate({height:"toggle"},400)),i.hasClass("aux-open")&&(t.modal.find(".ppjs__secondary-controls").find(".toggled").removeClass("toggled"),i.find(".selected").removeClass("selected"),s.hide(),a.empty(),i.hide().removeClass("aux-open")))})),this.modal.on("click",".pp-text-aux-btn",(function(){var t=jQuery(this);if(t.hasClass("toggled"))t.removeClass("toggled"),s.hide(),i.find(".selected").removeClass("selected"),a.empty(),i.animate({height:"toggle"},200).removeClass("aux-open");else{var n=e.find(".episode-single__wrapper").html();t.addClass("toggled"),s.hide(),i.find(".selected").removeClass("selected"),i.find(".content-tab").addClass("selected"),a.empty().html(n).show(),i.addClass("aux-open").animate({height:"toggle"},200)}})),this.modal.on("click",".pp-modal-tabs-item",(function(){var t=jQuery(this);if(!t.hasClass("selected"))if(t.parent().find(".selected").removeClass("selected"),t.addClass("selected"),t.hasClass("lists-tab")){var e=s.find(".activeEpisode");a.hide(),s.fadeIn(),e.length&&i.animate({scrollTop:i.scrollTop()+e.position().top},400)}else t.hasClass("content-tab")&&(s.hide(),a.fadeIn())})),jQuery(document).on("keyup",(function(e){"Escape"===e.key&&(t.modal.hasClass("media-paused")?t.modalClose():t.modal.hasClass("modal-view")&&!t.mediaObj.isVideo&&(t.modal.removeClass("modal-view").addClass("inline-view"),t.scrollEnable()))})),this.modal.on("click",(function(e){var i=jQuery(e.target);t.modal.hasClass("modal-view")&&(i.closest(".pp-modal-wrapper").length||i.closest(".pp-modal-close").length||(t.modal.hasClass("media-paused")||t.mediaObj.isVideo?t.modalClose():(t.modal.removeClass("modal-view").addClass("inline-view"),t.scrollEnable())))}))}},{key:"create",value:function(t,e,i,s,a){var n,o=jQuery("<div />",{id:"pp-modal-placeholder"}),r=this.modal.find(".pp-modal-wrapper"),d=t.closest(".pp-podcast"),l=d.attr("id").replace("pp-podcast-",""),p=this.modal.find(".pp-modal-aux-wrapper"),c=p.find(".pp-modal-tabs-list"),h=this;if(a=void 0===a||a,d.is(".single-audio, .hide-content")||((n=d.find(".pod-content__list").clone()).find(".pod-entry").each((function(){var t=jQuery(this);t.show().attr("data-pid",t.attr("id")).removeAttr("id").removeClass("media-playing activeEpisode")})),n.find(".episode-list__load-more").show(),n.find(".episode-list__search-results").hide(),c.empty().append(n).addClass("lv3 postview"),c.find(".episode-list__filters").hide()),d.hasClass("modern")){var m=d.find(".ppjs__time");d.find(".ppjs__audio-timer").append(m)}if(p.addClass("aux-modal-"+l),o.insertBefore(t),!d.hasClass("postview")){var u=jQuery("<div />",{class:"episode-search__loading"}).html(this.settings.ppVidLoading);o.height(t.height()).html(u)}r.empty().append(t),r.children().wrapAll('<div class="modal-'+l+'">'),s?(this.modal.addClass("modal-view pp-modal-open"),this.scrollDisable()):this.modal.addClass("inline-view pp-modal-open"),jQuery.each(["light-accent","light-color","hide-share","hide-download","hide-social","single-episode","single-audio","modern"],(function(t,e){d.hasClass(e)&&h.modal.addClass(e)})),this.mediaObj&&a&&this.mediaObj.media.pause(),this.mediaObj=e,this.msgMediaObj=i,this.mediaObj.media.addEventListener("ended",this.pauseMedia),this.mediaObj.media.addEventListener("pause",this.pauseMedia),this.mediaObj.media.addEventListener("play",this.playMedia),this.mediaObj.media.addEventListener("playing",this.playMedia),this.msgMediaObj&&(this.msgMediaObj.media.addEventListener("ended",this.pauseMedia),this.msgMediaObj.media.addEventListener("pause",this.pauseMedia),this.msgMediaObj.media.addEventListener("play",this.playMedia),this.msgMediaObj.media.addEventListener("playing",this.playMedia))}},{key:"mediaPause",value:function(){this.modal.addClass("media-paused"),jQuery("#pp-modal-placeholder").parent().find(".activeEpisode").removeClass("media-playing")}},{key:"mediaPlay",value:function(){this.modal.removeClass("media-paused"),jQuery("#pp-modal-placeholder").parent().find(".activeEpisode").addClass("media-playing")}},{key:"modalClose",value:function(){this.returnElem(),this.modal.removeClass().addClass("pp-modal-window"),this.scrollEnable(),this.mediaObj&&(this.mediaObj.media.pause(),this.mediaObj=!1),this.msgMediaObj&&(this.msgMediaObj.media.pause(),this.msgMediaObj.media.currentTime=0,this.msgMediaObj=!1)}},{key:"returnElem",value:function(){var t=this.modal.find(".pp-modal-wrapper"),e=this.modal.find(".pp-modal-aux-wrapper"),i=t.find(".pp-podcast__single"),s=jQuery("#pp-modal-placeholder"),a=this.modal.find(".pp-modal-close");if(this.mediaObj.media.removeEventListener("ended",this.pauseMedia),this.mediaObj.media.removeEventListener("pause",this.pauseMedia),this.mediaObj.media.removeEventListener("play",this.pauseMedia),this.mediaObj.media.removeEventListener("playing",this.pauseMedia),this.msgMediaObj&&(this.msgMediaObj.media.removeEventListener("ended",this.pauseMedia),this.msgMediaObj.media.removeEventListener("pause",this.pauseMedia),this.msgMediaObj.media.removeEventListener("play",this.playMedia),this.msgMediaObj.media.removeEventListener("playing",this.playMedia)),e.length&&e.hasClass("aux-open")&&(e.removeClass("aux-open").hide(),this.modal.find(".ppjs__secondary-controls").find(".toggled").removeClass("toggled")),e.removeClass().addClass("pp-modal-aux-wrapper"),this.modal.hasClass("modern")){var n=this.modal.find(".ppjs__time");this.modal.find(".ppjs__atime-container").append(n)}i.length&&(i.removeClass("activePodcast"),s.length&&i.insertAfter(s)),s.length&&(s.parent().find(".activeEpisode").removeClass("activeEpisode media-playing"),s.remove()),a.removeClass("modal-closed"),this.modal.removeClass().addClass("pp-modal-window"),t.empty().removeAttr("style")}},{key:"scrollDisable",value:function(){var t=this;this.bodyScrollDisabled||(this.scrollPosition=this.scrollingElem.scrollTop,this.bodyScrollDisabled=!0,setTimeout((function(){t.scrollingElem.scrollTop=0,t.scrollingElem.classList.add("no-scroll")}),250))}},{key:"scrollEnable",value:function(){this.bodyScrollDisabled&&(this.scrollingElem.classList.remove("no-scroll"),this.scrollingElem.scrollTop=this.scrollPosition,this.bodyScrollDisabled=!1)}}],e&&Q(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function F(t){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F(t)}function N(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,U(s.key),s)}}function U(t){var e=function(t){if("object"!=F(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,"string");if("object"!=F(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==F(e)?e:e+""}var R=function(){return t=function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.elements="string"==typeof e?this.get(e,i):[e]},e=[{key:"template",value:function(t,e){return t.replace(/\{\{(\w+)\}\}/g,(function(t,i){return e[i]||""}))}},{key:"strToHTML",value:function(t){var e=document.createElement("div");return e.innerHTML=t,e.firstElementChild}}],null&&N(t.prototype,null),e&&N(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}(),D=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return new R(t,e)};function H(t){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H(t)}function W(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,V(s.key),s)}}function q(t,e,i){return(e=V(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function V(t){var e=function(t){if("object"!=H(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,"string");if("object"!=H(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==H(e)?e:e+""}Object.getOwnPropertyNames(R).forEach((function(t){"function"==typeof R[t]&&"prototype"!==t&&(D[t]=R[t])}));var J=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),q(this,"id",null),q(this,"wrapper",null),q(this,"media",null),q(this,"controls",null),this.id=e,this.media=document.querySelector("#".concat(e)),!this.media||!this.isValidMediaElement(this.media))return!1;this.wrapper=this.media.parentElement,this.createAudioMarkup(),this.attachEvents()}return e=t,(i=[{key:"isValidMediaElement",value:function(t){return"AUDIO"===t.tagName||"MEDIAELEMENTWRAPPER"===t.tagName&&(this.removeMeJs(),this.media=document.querySelector("#".concat(this.id)),!!this.media)}},{key:"attachEvents",value:function(){var e=this,i=this.controls.querySelector(".ppjs__seek-slider"),s=this.controls.querySelector(".ppjs__currenttime");this.media.readyState>0?(this.displayDuration(),this.setSliderMax()):this.media.addEventListener("loadedmetadata",(function(){e.displayDuration(),e.setSliderMax()})),i.addEventListener("input",(function(){e.media.readyState>0&&(s.textContent=e.formatTime(i.value))})),i.addEventListener("change",(function(){e.media.readyState>0&&(e.media.currentTime=i.value)})),this.media.addEventListener("play",(function(){t.currentlyPlayingInstance&&t.currentlyPlayingInstance!==e&&t.currentlyPlayingInstance.media.pause(),t.currentlyPlayingInstance=e})),this.media.addEventListener("timeupdate",(function(){var t=e.media,a=t.duration,n=t.currentTime,o=t.buffered,r=n/a*100;if(i.value=Math.floor(n),s.textContent=e.formatTime(n),i.style.setProperty("--pp-progress-value","".concat(r,"%")),a>0&&o.length){var d=o.end(o.length-1)/a*100;i.style.setProperty("--buffered-width","".concat(d,"%"))}}))}},{key:"createAudioMarkup",value:function(){var t=D.template('\n    <div class="ppjs__offscreen">Audio Player</div>\n    <div id="{{id}}-html5" class="ppjs__container pp-podcast-episode ppjs__audio">\n        <div class="ppjs__inner">\n            <div class="ppjs__mediaelement"></div>\n            <div class="ppjs__controls">\n                <div class="ppjs__time ppjs__currenttime-container" role="timer" aria-live="off"><span class="ppjs__currenttime">00:00</span></div>\n                <div class="ppjs__time ppjs__duration-container"><span class="ppjs__duration">00:00</span></div>\n                <div class="ppjs__audio-time-rail"><input type="range" class="ppjs__seek-slider" max="100" value="0"></div>\n            </div>\n        </div>\n    </div>\n    ',{id:this.id});this.wrapper.insertAdjacentHTML("beforeend",t),this.wrapper.querySelector(".ppjs__mediaelement").appendChild(this.media),this.controls=this.wrapper.querySelector(".ppjs__controls")}},{key:"setSrc",value:function(t){this.media.src=t}},{key:"getSrc",value:function(){return this.media.src}},{key:"load",value:function(){this.media.load()}},{key:"formatTime",value:function(t){if(!t||isNaN(t))return"00:00";var e=Math.floor(t/3600),i=Math.floor(t%3600/60),s=Math.floor(t%60);return(e?"".concat(e,":"):"")+String(i).padStart(2,"0")+":"+String(s).padStart(2,"0")}},{key:"displayDuration",value:function(){var t=this.controls.querySelector(".ppjs__duration");t&&(t.textContent=this.formatTime(this.media.duration))}},{key:"setSliderMax",value:function(){var t=this.media.duration;isNaN(t)||(this.controls.querySelector(".ppjs__seek-slider").max=Math.floor(t))}},{key:"removeMeJs",value:function(){var t,e=this.media.closest(".mejs__container");e&&e.id&&null!==(t=window.mejs)&&void 0!==t&&null!==(t=t.players)&&void 0!==t&&null!==(t=t[e.id])&&void 0!==t&&t.remove&&window.mejs.players[e.id].remove()}}])&&W(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,i}();q(J,"currentlyPlayingInstance",null);const z=J;!function(t){var i=t(".pp-podcast"),s=t(".pp-social-shared").first(),a=window.ppmejsSettings||{},n=a.isPremium?new A:"",o=a.isMeJs,r=!1;function d(e){var i=t(e.target);i.hasClass("pp-podcast")&&!i.hasClass("pp-podcast-added")&&l(i)}function l(t){if(!t.hasClass("pp-podcast-added")){var i=t.attr("id");if(!t.parents(".pp-podcast").length)if(t.find(".pp-podcast").remove(),o&&"undefined"==typeof MediaElementPlayer)r||setTimeout((function(){return l(t)}),200);else{var s=i+"-player",d=o?new MediaElementPlayer(s,a):new z(s);if(d){var p=t.find(".pod-content__list"),c=t.find(".pod-content__episode"),h=p.find(".episode-list__wrapper"),m=c.find(".episode-single__wrapper"),u=t.find(".pp-podcast__single").first(),f=t.find(".pp-podcast__player"),y=t.find(".pp-player__amsg"),v=!!y.length&&(o?new MediaElementPlayer(i+"-amsg-player",a):new z(i+"-amsg-player"));if(void 0===e.podcastPlayerData[i]){var g=t.data("ppsdata");if(!g)return;e.podcastPlayerData[i]=g}var b=i.replace("pp-podcast-","");e[i]={podcast:t,mediaObj:d,settings:a,list:p,episode:c,msgMediaObj:v,amsg:y,episodes:h,single:m,player:f,modal:n,singleWrap:u,fetched:!1,instance:b},t.addClass("pp-podcast-added"),new I(i)}}}}setTimeout((function(){r=!0}),3e3),i.each((function(){l(t(this))})),document.addEventListener("animationstart",d,!1),document.addEventListener("MSAnimationStart",d,!1),document.addEventListener("webkitAnimationStart",d,!1),s.length&&t("html, body").animate({scrollTop:s.offset().top-200},400),a.isPremium&&a.isSticky&&t(window).on("scroll",e.stickyonScroll.bind(e)),window.podcastPlayerPlay=function(){z&&z.currentlyPlayingInstance&&z.currentlyPlayingInstance.media.play()},window.podcastPlayerPause=function(){z&&z.currentlyPlayingInstance&&z.currentlyPlayingInstance.media.pause()}}(jQuery)})();